<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Boost.AFIO</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>

<table cellpadding="2" width="100%">
<tbody>
<tr>
<td valign="top">
<img alt="Boost.AFIO" src="images/ggl-logo-big.png" height="80" width="200">
&nbsp;&nbsp;
</td>
<td valign="top" align="right">
<a href="http://www.boost.org">
<img alt="Boost C++ Libraries" src="images/accepted_by_boost.png" height="80" width="230" border="0">
</a>
</td>
</tr>
</tbody>
</table>
<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Deleting Files</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; future&lt;&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga2016f9a72e06b1c1e231d94c6457d224">boost::afio::dispatcher::rmfile</a> (const std::vector&lt; path_req &gt; &amp;reqs)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a batch of asynchronous file deletions after optional preconditions.  <a href="#ga2016f9a72e06b1c1e231d94c6457d224"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T  = path&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">future&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga6b0a32f1ff85824f3884df770a601abf">boost::afio::async_rmfile</a> (future&lt;&gt; _precondition, T _path=path(), file_flags _flags=file_flags::none)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous file deletion after an optional precondition.  <a href="#ga6b0a32f1ff85824f3884df770a601abf"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T , typename  = typename std::enable_if&lt;detail::is_not_handle&lt;T&gt;::value&gt;::type&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">future&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga5323e4a1af6037836c787570fa9c329f">boost::afio::async_rmfile</a> (T _path, file_flags _flags=file_flags::none)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous file deletion after an optional precondition.  <a href="#ga5323e4a1af6037836c787570fa9c329f"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T  = path&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga925473688066a4a625a62c59af93d48a">boost::afio::rmfile</a> (future&lt;&gt; _precondition, T _path=path(), file_flags _flags=file_flags::none)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous file deletion after an optional precondition.  <a href="#ga925473688066a4a625a62c59af93d48a"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T , typename  = typename std::enable_if&lt;detail::is_not_handle&lt;T&gt;::value&gt;::type&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga6b247cab4be4e2ff767c5b0a74bee487">boost::afio::rmfile</a> (T _path, file_flags _flags=file_flags::none)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous file deletion after an optional precondition.  <a href="#ga6b247cab4be4e2ff767c5b0a74bee487"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T  = path&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga62f1ecf14f0a598133a57329f4418e41">boost::afio::rmfile</a> (error_code &amp;_ec, future&lt;&gt; _precondition, T _path=path(), file_flags _flags=file_flags::none)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous file deletion after an optional precondition.  <a href="#ga62f1ecf14f0a598133a57329f4418e41"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class T , typename  = typename std::enable_if&lt;detail::is_not_handle&lt;T&gt;::value&gt;::type&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__rmfile.html#ga99df853c75dc7fb63b02be3e286ecac3">boost::afio::rmfile</a> (error_code &amp;_ec, T _path, file_flags _flags=file_flags::none)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous file deletion after an optional precondition.  <a href="#ga99df853c75dc7fb63b02be3e286ecac3"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2016f9a72e06b1c1e231d94c6457d224"></a><!-- doxytag: member="boost::afio::dispatcher::rmfile" ref="ga2016f9a72e06b1c1e231d94c6457d224" args="(const std::vector&lt; path_req &gt; &amp;reqs)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">future <a class="el" href="group__rmfile.html#ga2016f9a72e06b1c1e231d94c6457d224">boost::afio::dispatcher::rmfile</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structboost_1_1afio_1_1path__req.html">path_req</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>reqs</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schedule a batch of asynchronous file deletions after optional preconditions. </p>
<p>Note that you can delete files before they are closed on Windows just as with POSIX if and only if all open handles to that file were opened with permission for the file to be deleted (AFIO always sets this). The actual file data will be deleted when the last handle is closed on the system.</p>
<p>Make sure you read the docs for `__afio_handle__::unlink()` for important caveats.</p>
<p>Note that on operating systems with an unstable `__afio_handle__::path(true)` you need to be cautious of deleting files by handle as any hard link to that file may be deleted instead of the one you intended. To work around this, portable code should delete by directory handle as the precondition and known leafname.</p>
<p>Related types: `__afio_path_req__` Be aware that on Windows AFIO operates exclusively in the NT kernel namespace, NOT the Win32 namespace, and therefore paths you supply are converted by `afio::path` in NT kernel namespace paths. `normalise_path()` can convert an afio path back to a Filesystem TS path for you, but note that this may not be the path that was supplied originally. NT kernel namespace paths have a 32,767 character limit and an almost POSIX like lack of restrictions on naming or historical behaviour quirks, but as a result AFIO does not support DOS short names or any of the other historical Win32 filing system baggage.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A batch of op handles. </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reqs</td><td>A batch of `path_req` structures.</td></tr>
  </table>
  </dd>
</dl>
 { [raceguarantee FreeBSD, Linux..Race free up to the containing directory.] [raceguarantee Windows..Race free if handle open, else up to the containing directory.] [raceguarantee OS X..No guarantees.] }    
<p>Definition at line <a class="el" href="afio_8hpp_source.html#l03630">3630</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b0a32f1ff85824f3884df770a601abf"></a><!-- doxytag: member="boost::afio::async_rmfile" ref="ga6b0a32f1ff85824f3884df770a601abf" args="(future&lt;&gt; _precondition, T _path=path(), file_flags _flags=file_flags::none)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T  = path&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">future boost::afio::async_rmfile </td>
          <td>(</td>
          <td class="paramtype">future&lt;&gt;&#160;</td>
          <td class="paramname"><em>_precondition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>_path</em> = <code>path()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_flags&#160;</td>
          <td class="paramname"><em>_flags</em> = <code>file_flags::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asynchronous file deletion after an optional precondition. </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">class T</td><td>The type of path to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A <a class="el" href="classboost_1_1afio_1_1future_3_01void_01_4.html">future&lt;void&gt;</a> </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_precondition</td><td>The precondition to use. </td></tr>
    <tr><td class="paramname">_path</td><td>The filing system path to be used. </td></tr>
    <tr><td class="paramname">_flags</td><td>The flags to be used.</td></tr>
  </table>
  </dd>
</dl>
<p>{distinguish, relative} { [raceguarantee FreeBSD, Linux..Race free up to the containing directory.] [raceguarantee Windows..Race free if handle open, else up to the containing directory.] [raceguarantee OS X..No guarantees.] } {Amortised O(1) to dispatch. Amortised O(1) to complete if file deletion is constant time.}  {filedir_example} </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l04458">4458</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga5323e4a1af6037836c787570fa9c329f"></a><!-- doxytag: member="boost::afio::async_rmfile" ref="ga5323e4a1af6037836c787570fa9c329f" args="(T _path, file_flags _flags=file_flags::none)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , typename  = typename std::enable_if&lt;detail::is_not_handle&lt;T&gt;::value&gt;::type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">future boost::afio::async_rmfile </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_flags&#160;</td>
          <td class="paramname"><em>_flags</em> = <code>file_flags::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asynchronous file deletion after an optional precondition. </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">class T</td><td>The type of path to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A <a class="el" href="classboost_1_1afio_1_1future_3_01void_01_4.html">future&lt;void&gt;</a> </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_path</td><td>The filing system path to be used. </td></tr>
    <tr><td class="paramname">_flags</td><td>The flags to be used.</td></tr>
  </table>
  </dd>
</dl>
<p>{distinguish, absolute} { [raceguarantee FreeBSD, Linux, OS X, Windows..No guarantees.] } {Amortised O(1) to dispatch. Amortised O(1) to complete if file deletion is constant time.}  {filedir_example} </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l04480">4480</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga925473688066a4a625a62c59af93d48a"></a><!-- doxytag: member="boost::afio::rmfile" ref="ga925473688066a4a625a62c59af93d48a" args="(future&lt;&gt; _precondition, T _path=path(), file_flags _flags=file_flags::none)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T  = path&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void boost::afio::rmfile </td>
          <td>(</td>
          <td class="paramtype">future&lt;&gt;&#160;</td>
          <td class="paramname"><em>_precondition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>_path</em> = <code>path()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_flags&#160;</td>
          <td class="paramname"><em>_flags</em> = <code>file_flags::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronous file deletion after an optional precondition. </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">class T</td><td>The type of path to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_precondition</td><td>The precondition to use. </td></tr>
    <tr><td class="paramname">_path</td><td>The filing system path to be used. </td></tr>
    <tr><td class="paramname">_flags</td><td>The flags to be used.</td></tr>
  </table>
  </dd>
</dl>
<p>{distinguish, relative throwing} { [raceguarantee FreeBSD, Linux..Race free up to the containing directory.] [raceguarantee Windows..Race free if handle open, else up to the containing directory.] [raceguarantee OS X..No guarantees.] } {Amortised O(1) to dispatch. Amortised O(1) to complete if file deletion is constant time.}  {filedir_example} </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l04504">4504</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga6b247cab4be4e2ff767c5b0a74bee487"></a><!-- doxytag: member="boost::afio::rmfile" ref="ga6b247cab4be4e2ff767c5b0a74bee487" args="(T _path, file_flags _flags=file_flags::none)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , typename  = typename std::enable_if&lt;detail::is_not_handle&lt;T&gt;::value&gt;::type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void boost::afio::rmfile </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_flags&#160;</td>
          <td class="paramname"><em>_flags</em> = <code>file_flags::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronous file deletion after an optional precondition. </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">class T</td><td>The type of path to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_path</td><td>The filing system path to be used. </td></tr>
    <tr><td class="paramname">_flags</td><td>The flags to be used.</td></tr>
  </table>
  </dd>
</dl>
<p>{distinguish, absolute throwing} { [raceguarantee FreeBSD, Linux, OS X, Windows..No guarantees.] } {Amortised O(1) to dispatch. Amortised O(1) to complete if file deletion is constant time.}  {filedir_example} </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l04525">4525</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga62f1ecf14f0a598133a57329f4418e41"></a><!-- doxytag: member="boost::afio::rmfile" ref="ga62f1ecf14f0a598133a57329f4418e41" args="(error_code &amp;_ec, future&lt;&gt; _precondition, T _path=path(), file_flags _flags=file_flags::none)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T  = path&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void boost::afio::rmfile </td>
          <td>(</td>
          <td class="paramtype">error_code &amp;&#160;</td>
          <td class="paramname"><em>_ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">future&lt;&gt;&#160;</td>
          <td class="paramname"><em>_precondition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>_path</em> = <code>path()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_flags&#160;</td>
          <td class="paramname"><em>_flags</em> = <code>file_flags::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronous file deletion after an optional precondition. </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">class T</td><td>The type of path to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_ec</td><td>Error code to set. </td></tr>
    <tr><td class="paramname">_precondition</td><td>The precondition to use. </td></tr>
    <tr><td class="paramname">_path</td><td>The filing system path to be used. </td></tr>
    <tr><td class="paramname">_flags</td><td>The flags to be used.</td></tr>
  </table>
  </dd>
</dl>
<p>{distinguish, relative non throwing} { [raceguarantee FreeBSD, Linux..Race free up to the containing directory.] [raceguarantee Windows..Race free if handle open, else up to the containing directory.] [raceguarantee OS X..No guarantees.] } {Amortised O(1) to dispatch. Amortised O(1) to complete if file deletion is constant time.}  {filedir_example} </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l04550">4550</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga99df853c75dc7fb63b02be3e286ecac3"></a><!-- doxytag: member="boost::afio::rmfile" ref="ga99df853c75dc7fb63b02be3e286ecac3" args="(error_code &amp;_ec, T _path, file_flags _flags=file_flags::none)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , typename  = typename std::enable_if&lt;detail::is_not_handle&lt;T&gt;::value&gt;::type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void boost::afio::rmfile </td>
          <td>(</td>
          <td class="paramtype">error_code &amp;&#160;</td>
          <td class="paramname"><em>_ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_flags&#160;</td>
          <td class="paramname"><em>_flags</em> = <code>file_flags::none</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronous file deletion after an optional precondition. </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">class T</td><td>The type of path to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_ec</td><td>Error code to set. </td></tr>
    <tr><td class="paramname">_path</td><td>The filing system path to be used. </td></tr>
    <tr><td class="paramname">_flags</td><td>The flags to be used.</td></tr>
  </table>
  </dd>
</dl>
<p>{distinguish, absolute non throwing} { [raceguarantee FreeBSD, Linux, OS X, Windows..No guarantees.] } {Amortised O(1) to dispatch. Amortised O(1) to complete if file deletion is constant time.}  {filedir_example} </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l04572">4572</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<hr size="1">
<table width="100%">
<tbody>
<tr>
<td align="left"><small>
<p>January, 2014</p>
</small></td>
<td align="right">
<small>
Copyright &copy; 2013-2014 Niall Douglas, Cork, Ireland<br>
Copyright &copy; 2013 Paul Kirth, California<br>
</small>
</td>
</tr>
</tbody>
</table>

<address style="text-align: right;"><small>
Documentation is generated by&nbsp;<a href="http://www.doxygen.org/index.html">Doxygen</a>
</small></address>
</body>
</html>
