<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Boost.AFIO</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>

<table cellpadding="2" width="100%">
<tbody>
<tr>
<td valign="top">
<img alt="Boost.AFIO" src="images/ggl-logo-big.png" height="80" width="200">
&nbsp;&nbsp;
</td>
<td valign="top" align="right">
<a href="http://www.boost.org">
<img alt="Boost C++ Libraries" src="images/accepted_by_boost.png" height="80" width="230" border="0">
</a>
</td>
</tr>
</tbody>
</table>
<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>boost</b>      </li>
      <li class="navelem"><b>afio</b>      </li>
      <li class="navelem"><a class="el" href="namespaceboost_1_1afio_1_1utils.html">utils</a>      </li>
      <li class="navelem"><a class="el" href="classboost_1_1afio_1_1utils_1_1page__allocator.html">page_allocator</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">boost::afio::utils::page_allocator&lt; T &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__utils.html">Utilities</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="boost::afio::utils::page_allocator" -->
<p>An STL allocator which allocates large TLB page memory.If the operating system is configured to allow it, this type of memory is particularly efficient for doing large scale file i/o. This is because the kernel must normally convert the scatter gather buffers you pass into extended scatter gather buffers as the memory you see as contiguous may not, and probably isn't, actually be contiguous in physical memory. Regions returned by this allocator <em>may</em> be allocated contiguously in physical memory and therefore the kernel can pass through your scatter gather buffers unmodified.  
 <a href="classboost_1_1afio_1_1utils_1_1page__allocator.html#details">More...</a></p>

<p><a href="classboost_1_1afio_1_1utils_1_1page__allocator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structboost_1_1afio_1_1utils_1_1page__allocator_1_1rebind.html">rebind</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b6990a8bd03f05536b3622f5d8d2204"></a><!-- doxytag: member="boost::afio::utils::page_allocator::value_type" ref="a8b6990a8bd03f05536b3622f5d8d2204" args="" -->
typedef T&#160;</td><td class="memItemRight" valign="bottom"><b>value_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe350505a05d374a1016bb2126aa2c2a"></a><!-- doxytag: member="boost::afio::utils::page_allocator::pointer" ref="abe350505a05d374a1016bb2126aa2c2a" args="" -->
typedef T *&#160;</td><td class="memItemRight" valign="bottom"><b>pointer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a148df65d74871ad8a2bdf599c20a7929"></a><!-- doxytag: member="boost::afio::utils::page_allocator::const_pointer" ref="a148df65d74871ad8a2bdf599c20a7929" args="" -->
typedef const T *&#160;</td><td class="memItemRight" valign="bottom"><b>const_pointer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa59b668becaece1f66fdef69d504cfd0"></a><!-- doxytag: member="boost::afio::utils::page_allocator::reference" ref="aa59b668becaece1f66fdef69d504cfd0" args="" -->
typedef T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>reference</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a104c2e335ea727f8410a695dda41bcc0"></a><!-- doxytag: member="boost::afio::utils::page_allocator::const_reference" ref="a104c2e335ea727f8410a695dda41bcc0" args="" -->
typedef const T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>const_reference</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a852d6e391173064f36d59b84fa863ded"></a><!-- doxytag: member="boost::afio::utils::page_allocator::size_type" ref="a852d6e391173064f36d59b84fa863ded" args="" -->
typedef size_t&#160;</td><td class="memItemRight" valign="bottom"><b>size_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a527cde17e506638c0cc36076b4cd8462"></a><!-- doxytag: member="boost::afio::utils::page_allocator::difference_type" ref="a527cde17e506638c0cc36076b4cd8462" args="" -->
typedef ptrdiff_t&#160;</td><td class="memItemRight" valign="bottom"><b>difference_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17fe7d9874b036ee3b911928ac1b1e1c"></a><!-- doxytag: member="boost::afio::utils::page_allocator::propagate_on_container_move_assignment" ref="a17fe7d9874b036ee3b911928ac1b1e1c" args="" -->
typedef std::true_type&#160;</td><td class="memItemRight" valign="bottom"><b>propagate_on_container_move_assignment</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e3a85fbe7f26f7675b2a1b4b5419985"></a><!-- doxytag: member="boost::afio::utils::page_allocator::is_always_equal" ref="a3e3a85fbe7f26f7675b2a1b4b5419985" args="" -->
typedef std::true_type&#160;</td><td class="memItemRight" valign="bottom"><b>is_always_equal</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a6e1003620c5c9bfffdfcae1a62c6b7c7"></a><!-- doxytag: member="boost::afio::utils::page_allocator::page_allocator" ref="a6e1003620c5c9bfffdfcae1a62c6b7c7" args="(const page_allocator&lt; U &gt; &amp;) noexcept" -->
template&lt;class U &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>page_allocator</b> (const <a class="el" href="classboost_1_1afio_1_1utils_1_1page__allocator.html">page_allocator</a>&lt; U &gt; &amp;) noexcept</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5dff762d63ad93dcfa04001c5dd50683"></a><!-- doxytag: member="boost::afio::utils::page_allocator::max_size" ref="a5dff762d63ad93dcfa04001c5dd50683" args="() const noexcept" -->
size_type&#160;</td><td class="memItemRight" valign="bottom"><b>max_size</b> () const noexcept</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a901ee528446859c0feb5d4a1c8c39979"></a><!-- doxytag: member="boost::afio::utils::page_allocator::address" ref="a901ee528446859c0feb5d4a1c8c39979" args="(reference x) const noexcept" -->
pointer&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (reference x) const noexcept</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8af7bbced9793db34dbc49a6f19ea22b"></a><!-- doxytag: member="boost::afio::utils::page_allocator::address" ref="a8af7bbced9793db34dbc49a6f19ea22b" args="(const_reference x) const noexcept" -->
const_pointer&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (const_reference x) const noexcept</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a407e898c59201243f2d4f65596d19f68"></a><!-- doxytag: member="boost::afio::utils::page_allocator::allocate" ref="a407e898c59201243f2d4f65596d19f68" args="(size_type n, const void *hint=0)" -->
pointer&#160;</td><td class="memItemRight" valign="bottom"><b>allocate</b> (size_type n, const void *hint=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae28fe219955d62d3dffba13655736cf7"></a><!-- doxytag: member="boost::afio::utils::page_allocator::deallocate" ref="ae28fe219955d62d3dffba13655736cf7" args="(pointer p, size_type n)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>deallocate</b> (pointer p, size_type n)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="ab0487f1a42edb603a326326adfd78677"></a><!-- doxytag: member="boost::afio::utils::page_allocator::construct" ref="ab0487f1a42edb603a326326adfd78677" args="(U *p, Args &amp;&amp;...args)" -->
template&lt;class U , class... Args&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>construct</b> (U *p, Args &amp;&amp;...args)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a5fc1b185841ece86ad22bb9c6b57d83c"></a><!-- doxytag: member="boost::afio::utils::page_allocator::destroy" ref="a5fc1b185841ece86ad22bb9c6b57d83c" args="(U *p)" -->
template&lt;class U &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>destroy</b> (U *p)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br/>
class boost::afio::utils::page_allocator&lt; T &gt;</h3>

<p>An STL allocator which allocates large TLB page memory.</p>
<p>If the operating system is configured to allow it, this type of memory is particularly efficient for doing large scale file i/o. This is because the kernel must normally convert the scatter gather buffers you pass into extended scatter gather buffers as the memory you see as contiguous may not, and probably isn't, actually be contiguous in physical memory. Regions returned by this allocator <em>may</em> be allocated contiguously in physical memory and therefore the kernel can pass through your scatter gather buffers unmodified. </p>
<p>A particularly useful combination with this allocator is with the <a class="el" href="group__utils.html#ga9b33da2bc3cd4989446286eebb19ea70" title="Returns the page sizes of this architecture which is useful for calculating direct i/o multiples...">page_sizes()</a> member function of __afio_dispatcher__. This will return which pages sizes are possible, and which page sizes are enabled for this user. If writing a file copy routine for example, using this allocator with the largest page size as the copy chunk makes a great deal of sense.</p>
<p>Be aware that as soon as the allocation exceeds a large page size, most systems allocate in multiples of the large page size, so if the large page size were 2Mb and you allocate 2Mb + 1 byte, 4Mb is actually consumed. </p>

<p>Definition at line <a class="el" href="afio_8hpp_source.html#l06231">6231</a> of file <a class="el" href="afio_8hpp_source.html">afio.hpp</a>.</p>
</div></div><!-- contents -->
<hr size="1">
<table width="100%">
<tbody>
<tr>
<td align="left"><small>
<p>January, 2014</p>
</small></td>
<td align="right">
<small>
Copyright &copy; 2013-2014 Niall Douglas, Cork, Ireland<br>
Copyright &copy; 2013 Paul Kirth, California<br>
</small>
</td>
</tr>
</tbody>
</table>

<address style="text-align: right;"><small>
Documentation is generated by&nbsp;<a href="http://www.doxygen.org/index.html">Doxygen</a>
</small></address>
</body>
</html>
